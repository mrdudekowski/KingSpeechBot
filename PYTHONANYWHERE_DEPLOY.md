# Гайд по деплою SimplePoll на PythonAnywhere

---

## 1. Загрузка и распаковка архива

1. **Зайдите в свой аккаунт на PythonAnywhere.**
2. Перейдите во вкладку **Files**.
3. Загрузите файл `simplepoll.zip` через кнопку **Upload a file**.
4. После загрузки откройте **Bash console** (или **Start a new console → Bash**).
5. Перейдите в домашнюю директорию (если вы не там):
   ```bash
   cd ~
   ```
6. **Распакуйте архив:**
   ```bash
   unzip simplepoll.zip
   ```
   После этого появится папка `SimplePoll` (или аналогичная, в зависимости от структуры архива).

---

## 2. Подготовка окружения

1. **Перейдите в директорию проекта:**
   ```bash
   cd SimplePoll
   ```
2. **Создайте виртуальное окружение:**
   ```bash
   python3.11 -m venv venv
   ```
3. **Активируйте виртуальное окружение:**
   ```bash
   source venv/bin/activate
   ```
4. **Установите зависимости:**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

---

## 3. Настройка конфигурации

1. **Загрузите файл `service-account.json`** (Google Service Account для доступа к Google Sheets) через вкладку **Files** в ту же директорию, где лежит проект.
2. **Проверьте наличие файла `.env`** (если используется) или убедитесь, что все переменные (например, `TELEGRAM_BOT_TOKEN`) прописаны в `config.py` или доступны через окружение.
3. **Проверьте файл `config.py`** — все пути и токены должны быть актуальны для сервера.

---

## 4. Тестовый запуск бота

1. **Всё ещё в активированном виртуальном окружении, запустите бота:**
   ```bash
   python main.py
   ```
2. **Проверьте логи в консоли.** Если бот успешно стартовал, он будет слушать сообщения в Telegram.

---

## 5. (Опционально) Настройка Always-on task (для платных аккаунтов)

1. Перейдите во вкладку **Tasks**.
2. Добавьте новую задачу:
   ```
   /home/yourusername/SimplePoll/venv/bin/python /home/yourusername/SimplePoll/main.py
   ```
   (путь скорректируйте под ваш username и структуру папок).

---

## 6. Важные замечания

- **PythonAnywhere не поддерживает Docker** — используйте только исходный код.
- **Не храните секретные ключи в публичных репозиториях!**
- **Если бот не стартует — проверьте логи ошибок (Consoles → View log).**
- **Если бот использует webhook, настройте polling (у вас уже настроено через `application.run_polling()`).**

---

## 7. Быстрый чек-лист

- [x] Загрузили и распаковали архив.
- [x] Создали и активировали виртуальное окружение.
- [x] Установили зависимости.
- [x] Загрузили все секретные файлы (`service-account.json`, `.env`).
- [x] Проверили и настроили `config.py`.
- [x] Запустили бота через `python main.py`.
- [x] (Опционально) Настроили Always-on task.

---

**Если появятся ошибки — скопируйте их сюда, помогу разобраться!**
Удачного деплоя! 